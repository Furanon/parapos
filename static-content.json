[
  {"key": "dashboard.html", "value": "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+RW50cnkgRGFzaGJvYXJkPC90aXRsZT4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NoYXJ0LmpzQDMuOS4xL2Rpc3QvY2hhcnQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzdHlsZT4KICAgICAgICBib2R5IHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgfQogICAgICAgIC5uYXYgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIH0KICAgICAgICAuc3VtbWFyeSB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQogICAgICAgIHRhYmxlIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQogICAgICAgIHRoLCB0ZCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkOwogICAgICAgIH0KICAgICAgICB0aCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7CiAgICAgICAgfQogICAgICAgIHRyOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsKICAgICAgICB9CiAgICAgICAgLmNoYXJ0LWNvbnRhaW5lciB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgICAgICAgfQogICAgICAgIC5jaGFydHMtZ3JpZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7CiAgICAgICAgICAgIGdhcDogMjBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDsKICAgICAgICB9CiAgICAgICAgLmNoYXJ0LWJveCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICB9CiAgICAgICAgLmNoYXJ0LXRpdGxlIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICB9CiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAgICAgICAgIC5jaGFydHMtZ3JpZCB7CiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAuZGF0ZS1zZWxlY3RvciB7CiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgZ2FwOiAxNXB4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KICAgICAgICAuZmlsdGVyLWdyb3VwIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KICAgICAgICAuZGF0ZS1zZWxlY3RvciBzZWxlY3QsIAogICAgICAgIC5kYXRlLXNlbGVjdG9yIGlucHV0W3R5cGU9ImRhdGUiXSwgCiAgICAgICAgLmRhdGUtc2VsZWN0b3IgYnV0dG9uIHsKICAgICAgICAgICAgcGFkZGluZzogOHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgfQogICAgICAgIC5kYXRlLXNlbGVjdG9yIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4OwogICAgICAgIH0KICAgICAgICAuZGF0ZS1zZWxlY3RvciBidXR0b246aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5OwogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJuYXYiPgogICAgICAgIDxhIGhyZWY9Ii9pbmRleC5odG1sIj5CYWNrIHRvIEVudHJ5IEZvcm08L2E+CiAgICA8L2Rpdj4KICAgIDxoMT5FbnRyeSBEYXNoYm9hcmQ8L2gxPgogICAgPGRpdiBpZD0ibG9hZGluZ0luZGljYXRvciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMjBweDsiPgogICAgICAgIDxwPkxvYWRpbmcgZGF0YS4uLjwvcD4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0iZXJyb3JNZXNzYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsgY29sb3I6IHJlZDsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyI+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InN1bW1hcnkiPgogICAgICAgIDxoMj5TdW1tYXJ5PC9oMj4KICAgICAgICA8dGFibGUgaWQ9InN1bW1hcnlUYWJsZSI+CiAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICA8dGg+RW50cnkgVHlwZTwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoPkNvdW50PC90aD4KICAgICAgICAgICAgICAgICAgICA8dGg+VG90YWwgVmFsdWU8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD5BdmVyYWdlIFByaWNlPC90aD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgIDwhLS0gRGF0YSB3aWxsIGJlIHBvcHVsYXRlZCBoZXJlIC0tPgogICAgICAgICAgICA8L3Rib2R5PgogICAgICAgIDwvdGFibGU+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJkYXRlLXNlbGVjdG9yIj4KICAgICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXItZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgZm9yPSJ0aW1lUmFuZ2UiPlF1aWNrIFJhbmdlOjwvbGFiZWw+CiAgICAgICAgICAgIDxzZWxlY3QgaWQ9InRpbWVSYW5nZSI+CiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI3Ij5MYXN0IDcgRGF5czwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMzAiPkxhc3QgMzAgRGF5czwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iOTAiPkxhc3QgMyBNb250aHM8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFsbCI+QWxsIFRpbWU8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImN1c3RvbSI+Q3VzdG9tIFJhbmdlPC9vcHRpb24+CiAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZpbHRlci1ncm91cCIgaWQ9ImN1c3RvbURhdGVSYW5nZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgPGxhYmVsIGZvcj0ic3RhcnREYXRlIj5TdGFydCBEYXRlOjwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0ic3RhcnREYXRlIj4KICAgICAgICAgICAgPGxhYmVsIGZvcj0iZW5kRGF0ZSI+RW5kIERhdGU6PC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJlbmREYXRlIj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIGlkPSJ1cGRhdGVDaGFydHMiPlVwZGF0ZSBDaGFydHM8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+CiAgICAgICAgPGgyPkRhdGEgVmlzdWFsaXphdGlvbnM8L2gyPgogICAgICAgIDxkaXYgY2xhc3M9ImNoYXJ0cy1ncmlkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhcnQtYm94Ij4KICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0iY2hhcnQtdGl0bGUiPkRhaWx5IFNhbGVzIFRyZW5kPC9oMz4KICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9InRyZW5kQ2hhcnQiPjwvY2FudmFzPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhcnQtYm94Ij4KICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0iY2hhcnQtdGl0bGUiPlRpY2tldCBUeXBlIERpc3RyaWJ1dGlvbjwvaDM+CiAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPSJwaWVDaGFydCI+PC9jYW52YXM+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFydC1ib3giPgogICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJjaGFydC10aXRsZSI+V2Vla2x5IENvbXBhcmlzb248L2gzPgogICAgICAgICAgICAgICAgPGNhbnZhcyBpZD0iYmFyQ2hhcnQiPjwvY2FudmFzPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhcnQtYm94Ij4KICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0iY2hhcnQtdGl0bGUiPk1vbnRobHkgUmV2ZW51ZTwvaDM+CiAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPSJtb250aGx5Q2hhcnQiPjwvY2FudmFzPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxzY3JpcHQ+CiAgICAgICAgZnVuY3Rpb24gc2hvd0xvYWRpbmcoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nSW5kaWNhdG9yJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvck1lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaGlkZUxvYWRpbmcoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nSW5kaWNhdG9yJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlKSB7CiAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7CiAgICAgICAgICAgIGNvbnN0IGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yTWVzc2FnZScpOwogICAgICAgICAgICBlcnJvckRpdi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7CiAgICAgICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkU3VtbWFyeShkYXRlUGFyYW1zID0gJycpIHsKICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3VtbWFyeScgKyBkYXRlUGFyYW1zKTsKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHN1bW1hcnknKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgIGlmICghZGF0YS5zdWNjZXNzIHx8ICFkYXRhLnJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZm9ybWF0Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1bW1hcnlUYWJsZSB0Ym9keScpOwogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7IC8vIENsZWFyIGV4aXN0aW5nIHJvd3MKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZGF0YS5yZXN1bHRzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsKICAgICAgICAgICAgICAgICAgICByb3cuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpdGVtLmVudHJ5X3R5cGV9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5jb3VudH08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JCR7KGl0ZW0udG90YWxfdmFsdWUgfHwgMCkudG9GaXhlZCgyKX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JCR7KGl0ZW0uYXZlcmFnZV9wcmljZSB8fCAwKS50b0ZpeGVkKDIpfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChyb3cpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdGYWlsZWQgdG8gbG9hZCBzdW1tYXJ5IGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIExvYWQgc3VtbWFyeSB3aGVuIHBhZ2UgbG9hZHMKICAgICAgICBsb2FkU3VtbWFyeSgpOwoKICAgICAgICAvLyBSZWZyZXNoIHN1bW1hcnkgZXZlcnkgMzAgc2Vjb25kcwogICAgICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgY29uc3QgZGF0ZVBhcmFtcyA9IGdldERhdGVQYXJhbXMoKSB8fCAnJzsKICAgICAgICAgICAgbG9hZFN1bW1hcnkoZGF0ZVBhcmFtcyk7CiAgICAgICAgfSwgMzAwMDApOwoKICAgICAgICAvLyBDaGFydCBvYmplY3RzIHRvIGFsbG93IHVwZGF0aW5nCiAgICAgICAgbGV0IHRyZW5kQ2hhcnQsIHBpZUNoYXJ0LCBiYXJDaGFydCwgbW9udGhseUNoYXJ0OwoKICAgICAgICAvLyBGdW5jdGlvbiB0byBmb3JtYXQgZGF0ZXMKICAgICAgICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHsKICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOwogICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyBtb250aDogJ3Nob3J0JywgZGF5OiAnbnVtZXJpYycgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gY29sb3JzIGZvciBjaGFydCBlbGVtZW50cwogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ29sb3JzKGNvdW50KSB7CiAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFtdOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMDApICsgNTU7CiAgICAgICAgICAgICAgICBjb25zdCBnID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjAwKSArIDU1OwogICAgICAgICAgICAgICAgY29uc3QgYiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwMCkgKyA1NTsKICAgICAgICAgICAgICAgIGNvbG9ycy5wdXNoKGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sIDAuNylgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gY29sb3JzOwogICAgICAgIH0KCiAgICAgICAgLy8gTG9hZCBkYWlseSB0cmVuZCBkYXRhCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZERhaWx5VHJlbmQoZGF0ZVBhcmFtcyA9ICcnKSB7CiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2RhaWx5LXN1bW1hcnknICsgZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBkYWlseSBkYXRhJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmb3JtYXQnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZGF5cyA9IGRhdGEucmVzdWx0cy5tYXAoaXRlbSA9PiBmb3JtYXREYXRlKGl0ZW0uZW50cnlfZGF0ZSkpOwogICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gZGF0YS5yZXN1bHRzLm1hcChpdGVtID0+IGl0ZW0uZGFpbHlfdG90YWwpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJlbmRDaGFydCcpLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIERlc3Ryb3kgZXhpc3RpbmcgY2hhcnQgaWYgaXQgZXhpc3RzCiAgICAgICAgICAgICAgICBpZiAodHJlbmRDaGFydCkgdHJlbmRDaGFydC5kZXN0cm95KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRyZW5kQ2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBkYXlzLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRGFpbHkgUmV2ZW51ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB2YWx1ZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JnYmEoNzUsIDE5MiwgMTkyLCAxKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDc1LCAxOTIsIDE5MiwgMC4yKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW5zaW9uOiAwLjEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0RhaWx5IFJldmVudWUgVHJlbmQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdSZXZlbnVlJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZGFpbHkgdHJlbmQ6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdGYWlsZWQgdG8gbG9hZCBkYWlseSB0cmVuZCBkYXRhLicpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBMb2FkIHRpY2tldCB0eXBlIGRpc3RyaWJ1dGlvbgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRUaWNrZXREaXN0cmlidXRpb24oZGF0ZVBhcmFtcyA9ICcnKSB7CiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3N1bW1hcnknICsgZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzdW1tYXJ5IGRhdGEnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgIGlmICghZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGZvcm1hdCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbHMgPSBkYXRhLnJlc3VsdHMubWFwKGl0ZW0gPT4gaXRlbS5lbnRyeV90eXBlKTsKICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEucmVzdWx0cy5tYXAoaXRlbSA9PiBpdGVtLmNvdW50KTsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGdlbmVyYXRlQ29sb3JzKGxhYmVscy5sZW5ndGgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGllQ2hhcnQnKS5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBEZXN0cm95IGV4aXN0aW5nIGNoYXJ0IGlmIGl0IGV4aXN0cwogICAgICAgICAgICAgICAgaWYgKHBpZUNoYXJ0KSBwaWVDaGFydC5kZXN0cm95KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHBpZUNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBsYWJlbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JzLm1hcChjb2xvciA9PiBjb2xvci5yZXBsYWNlKCcwLjcnLCAnMScpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVGlja2V0IFR5cGUgRGlzdHJpYnV0aW9uJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB0aWNrZXQgZGlzdHJpYnV0aW9uOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHNob3dFcnJvcignRmFpbGVkIHRvIGxvYWQgdGlja2V0IHR5cGUgZGlzdHJpYnV0aW9uIGRhdGEuJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIExvYWQgd2Vla2x5IGNvbXBhcmlzb24KICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkV2Vla2x5Q29tcGFyaXNvbihkYXRlUGFyYW1zID0gJycpIHsKICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvd2Vla2x5LXN1bW1hcnknICsgZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB3ZWVrbHkgZGF0YScpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZm9ybWF0Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHdlZWtzID0gZGF0YS5yZXN1bHRzLm1hcChpdGVtID0+IGBXZWVrICR7aXRlbS53ZWVrfSAke2l0ZW0ueWVhcn1gKTsKICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEucmVzdWx0cy5tYXAoaXRlbSA9PiBpdGVtLndlZWtseV90b3RhbCk7CiAgICAgICAgICAgICAgICBjb25zdCBjb3VudHMgPSBkYXRhLnJlc3VsdHMubWFwKGl0ZW0gPT4gaXRlbS5lbnRyeV9jb3VudCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJDaGFydCcpLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIERlc3Ryb3kgZXhpc3RpbmcgY2hhcnQgaWYgaXQgZXhpc3RzCiAgICAgICAgICAgICAgICBpZiAoYmFyQ2hhcnQpIGJhckNoYXJ0LmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYmFyQ2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHdlZWtzLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUmV2ZW51ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTQsIDE2MiwgMjM1LCAwLjcpJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JnYmEoNTQsIDE2MiwgMjM1LCAxKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdUaWNrZXRzIFNvbGQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvdW50cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgOTksIDEzMiwgMC43KScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDI1NSwgOTksIDEzMiwgMSknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnV2Vla2x5IFBlcmZvcm1hbmNlJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBzY2FsZXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVmFsdWUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB3ZWVrbHkgY29tcGFyaXNvbjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHdlZWtseSBjb21wYXJpc29uIGRhdGEuJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIExvYWQgbW9udGhseSByZXZlbnVlCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZE1vbnRobHlSZXZlbnVlKGRhdGVQYXJhbXMgPSAnJykgewogICAgICAgICAgICBzaG93TG9hZGluZygpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9tb250aGx5LXN1bW1hcnknICsgZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBtb250aGx5IGRhdGEnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgIGlmICghZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGZvcm1hdCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBtb250aHMgPSBkYXRhLnJlc3VsdHMubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoTmFtZXMgPSBbIkphbiIsICJGZWIiLCAiTWFyIiwgIkFwciIsICJNYXkiLCAiSnVuIiwgIkp1bCIsICJBdWciLCAiU2VwIiwgIk9jdCIsICJOb3YiLCAiRGVjIl07CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke21vbnRoTmFtZXNbaXRlbS5tb250aCAtIDFdfSAke2l0ZW0ueWVhcn1gOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLnJlc3VsdHMubWFwKGl0ZW0gPT4gaXRlbS5tb250aGx5X3RvdGFsKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRobHlDaGFydCcpLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIERlc3Ryb3kgZXhpc3RpbmcgY2hhcnQgaWYgaXQgZXhpc3RzCiAgICAgICAgICAgICAgICBpZiAobW9udGhseUNoYXJ0KSBtb250aGx5Q2hhcnQuZGVzdHJveSgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBtb250aGx5Q2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IG1vbnRocywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ01vbnRobHkgUmV2ZW51ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB2YWx1ZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDE1MywgMTAyLCAyNTUsIDAuNyknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDE1MywgMTAyLCAyNTUsIDEpJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ01vbnRobHkgUmV2ZW51ZScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1JldmVudWUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBtb250aGx5IHJldmVudWU6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdGYWlsZWQgdG8gbG9hZCBtb250aGx5IHJldmVudWUgZGF0YS4nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gRnVuY3Rpb24gdG8gbG9hZCBhbGwgY2hhcnRzCiAgICAgICAgZnVuY3Rpb24gbG9hZEFsbENoYXJ0cyhkYXRlUGFyYW1zID0gJycpIHsKICAgICAgICAgICAgbG9hZERhaWx5VHJlbmQoZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgIGxvYWRUaWNrZXREaXN0cmlidXRpb24oZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgIGxvYWRXZWVrbHlDb21wYXJpc29uKGRhdGVQYXJhbXMpOwogICAgICAgICAgICBsb2FkTW9udGhseVJldmVudWUoZGF0ZVBhcmFtcyk7CiAgICAgICAgfQoKICAgICAgICAvLyBJbml0aWFsaXplIGRhdGUgaW5wdXRzIHdpdGggZGVmYXVsdCByYW5nZQogICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVEYXRlSW5wdXRzKCkgewogICAgICAgICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnREYXRlLnNldERhdGUoc3RhcnREYXRlLmdldERhdGUoKSAtIDMwKTsgLy8gRGVmYXVsdCB0byBsYXN0IDMwIGRheXMKICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmREYXRlJykudmFsdWVBc0RhdGUgPSBlbmREYXRlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnREYXRlJykudmFsdWVBc0RhdGUgPSBzdGFydERhdGU7CiAgICAgICAgfQoKICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIHRpbWUgcmFuZ2UgY2hhbmdlcwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lUmFuZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgY3VzdG9tRGF0ZVJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbURhdGVSYW5nZScpOwogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gJ2N1c3RvbScpIHsKICAgICAgICAgICAgICAgIGN1c3RvbURhdGVSYW5nZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY3VzdG9tRGF0ZVJhbmdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8gRnVuY3Rpb24gdG8gZ2V0IGRhdGUgcGFyYW1ldGVycyBiYXNlZCBvbiBzZWxlY3Rpb24KICAgICAgICBmdW5jdGlvbiBnZXREYXRlUGFyYW1zKCkgewogICAgICAgICAgICBjb25zdCB0aW1lUmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZVJhbmdlJykudmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAodGltZVJhbmdlID09PSAnY3VzdG9tJykgewogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0RGF0ZScpLnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmREYXRlJykudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0RGF0ZSB8fCAhZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGJvdGggc3RhcnQgYW5kIGVuZCBkYXRlcycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGA/c3RhcnRfZGF0ZT0ke3N0YXJ0RGF0ZX0mZW5kX2RhdGU9JHtlbmREYXRlfWA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0aW1lUmFuZ2UgPT09ICdhbGwnKSByZXR1cm4gJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBlbmRfZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICBjb25zdCBzdGFydF9kYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnRfZGF0ZS5zZXREYXRlKHN0YXJ0X2RhdGUuZ2V0RGF0ZSgpIC0gcGFyc2VJbnQodGltZVJhbmdlKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gYD9zdGFydF9kYXRlPSR7c3RhcnRfZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19JmVuZF9kYXRlPSR7ZW5kX2RhdGV9YDsKICAgICAgICB9CgogICAgICAgIC8vIEluaXRpYWxpemUgY2hhcnRzIG9uIHBhZ2UgbG9hZAogICAgICAgIGluaXRpYWxpemVEYXRlSW5wdXRzKCk7CiAgICAgICAgY29uc3QgaW5pdGlhbERhdGVQYXJhbXMgPSBnZXREYXRlUGFyYW1zKCkgfHwgJyc7CiAgICAgICAgbG9hZEFsbENoYXJ0cyhpbml0aWFsRGF0ZVBhcmFtcyk7CgogICAgICAgIC8vIFVwZGF0ZSBjaGFydHMgd2hlbiB0aGUgdXNlciBjaGFuZ2VzIHRoZSB0aW1lIHJhbmdlCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUNoYXJ0cycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRlUGFyYW1zID0gZ2V0RGF0ZVBhcmFtcygpOwogICAgICAgICAgICAgICAgaWYgKGRhdGVQYXJhbXMgPT09IG51bGwpIHJldHVybjsgLy8gSW52YWxpZCBkYXRlIHNlbGVjdGlvbgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgc3VtbWFyeSB0YWJsZSB3aXRoIHRoZSBzYW1lIGRhdGUgcGFyYW1ldGVycwogICAgICAgICAgICAgICAgbG9hZFN1bW1hcnkoZGF0ZVBhcmFtcyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICAgICAgICAgICAgICBsb2FkRGFpbHlUcmVuZChkYXRlUGFyYW1zKSwKICAgICAgICAgICAgICAgICAgICBsb2FkVGlja2V0RGlzdHJpYnV0aW9uKGRhdGVQYXJhbXMpLAogICAgICAgICAgICAgICAgICAgIGxvYWRXZWVrbHlDb21wYXJpc29uKGRhdGVQYXJhbXMpLAogICAgICAgICAgICAgICAgICAgIGxvYWRNb250aGx5UmV2ZW51ZShkYXRlUGFyYW1zKQogICAgICAgICAgICAgICAgXSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjaGFydHM6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGNoYXJ0cyB3aXRoIHNlbGVjdGVkIHRpbWUgcmFuZ2UuJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICA8L3NjcmlwdD4KPC9odG1sPgo="}
  {"key": "index.html", "value": "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+RW50cnkgTG9nZ2VyPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBib2R5IHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBtYXgtd2lkdGg6IDgwMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB9CiAgICAgICAgZm9ybSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgbWF4LXdpZHRoOiA0MDBweDsKICAgICAgICB9CiAgICAgICAgaW5wdXQsIHNlbGVjdCwgYnV0dG9uIHsKICAgICAgICAgICAgcGFkZGluZzogOHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7CiAgICAgICAgfQogICAgICAgIC5uYXYgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJuYXYiPgogICAgICAgIDxhIGhyZWY9Ii9kYXNoYm9hcmQuaHRtbCI+VmlldyBEYXNoYm9hcmQ8L2E+CiAgICA8L2Rpdj4KICAgIDxoMT5FbnRyeSBMb2dnZXI8L2gxPgogICAgPGZvcm0gaWQ9ImVudHJ5Rm9ybSI+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGxhYmVsIGZvcj0iZW50cnlfdHlwZSI+RW50cnkgVHlwZTo8L2xhYmVsPgogICAgICAgICAgICA8c2VsZWN0IGlkPSJlbnRyeV90eXBlIiBuYW1lPSJlbnRyeV90eXBlIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlRpY2tldCBBcnRpc3QiPlRpY2tldCBBcnRpc3Q8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlRpY2tldCBGcmVlIj5UaWNrZXQgRnJlZTwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iVGlja2V0IDUwIj5UaWNrZXQgNTA8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlRpY2tldCAxMDAiPlRpY2tldCAxMDA8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlRpY2tldCAxNTAiPlRpY2tldCAxNTA8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlRpY2tldCAyMDAiPlRpY2tldCAyMDA8L29wdGlvbj4KICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGxhYmVsIGZvcj0icHJpY2UiPlByaWNlOjwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwcmljZSIgbmFtZT0icHJpY2UiIHN0ZXA9IjAuMDEiIHJlcXVpcmVkPgogICAgICAgIDwvZGl2PgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5TdWJtaXQgRW50cnk8L2J1dHRvbj4KICAgIDwvZm9ybT4KCiAgICA8c2NyaXB0PgogICAgICAgIC8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSBwcmljZSBiYXNlZCBvbiBzZWxlY3RlZCB0aWNrZXQgdHlwZQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByaWNlKCkgewogICAgICAgICAgICBjb25zdCBlbnRyeVR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW50cnlfdHlwZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBwcmljZUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaWNlJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTZXQgcHJpY2UgYmFzZWQgb24gdGlja2V0IHR5cGUKICAgICAgICAgICAgc3dpdGNoKGVudHJ5VHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAnVGlja2V0IEFydGlzdCc6CiAgICAgICAgICAgICAgICBjYXNlICdUaWNrZXQgRnJlZSc6CiAgICAgICAgICAgICAgICAgICAgcHJpY2VGaWVsZC52YWx1ZSA9ICcwJzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ1RpY2tldCA1MCc6CiAgICAgICAgICAgICAgICAgICAgcHJpY2VGaWVsZC52YWx1ZSA9ICc1MCc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdUaWNrZXQgMTAwJzoKICAgICAgICAgICAgICAgICAgICBwcmljZUZpZWxkLnZhbHVlID0gJzEwMCc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdUaWNrZXQgMTUwJzoKICAgICAgICAgICAgICAgICAgICBwcmljZUZpZWxkLnZhbHVlID0gJzE1MCc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdUaWNrZXQgMjAwJzoKICAgICAgICAgICAgICAgICAgICBwcmljZUZpZWxkLnZhbHVlID0gJzIwMCc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHByaWNlRmllbGQudmFsdWUgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBVcGRhdGUgcHJpY2Ugd2hlbiB0aWNrZXQgdHlwZSBjaGFuZ2VzCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VudHJ5X3R5cGUnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVQcmljZSk7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHByaWNlIG9uIHBhZ2UgbG9hZAogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB1cGRhdGVQcmljZSk7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VudHJ5Rm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChlKSA9PiB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gewogICAgICAgICAgICAgICAgZW50cnlfdHlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VudHJ5X3R5cGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgIHByaWNlOiBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmljZScpLnZhbHVlKQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbG9nLWVudHJ5JywgewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0VudHJ5IGxvZ2dlZCBzdWNjZXNzZnVsbHkhJyk7CiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9nIGVudHJ5Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgnRmFpbGVkIHRvIGxvZyBlbnRyeS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo="}
]
