<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Entry Dashboard</title> <style> body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; } .nav { margin-bottom: 20px; } .summary { margin-top: 20px; } table { width: 100%; border-collapse: collapse; margin-top: 20px; } th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; } th { background-color: #f2f2f2; } tr:hover { background-color: #f5f5f5; } </style> </head> <body> <div class="nav"> <a href="/index.html">Back to Entry Form</a> </div> <h1>Entry Dashboard</h1> <div class="summary"> <h2>Summary</h2> <table id="summaryTable"> <thead> <tr> <th>Entry Type</th> <th>Count</th> </tr> </thead> <tbody> <!-- Data will be populated here --> </tbody> </table> </div> <script> async function loadSummary() { try { const response = await fetch('/api/summary'); if (!response.ok) throw new Error('Failed to fetch summary'); const data = await response.json(); const tbody = document.querySelector('#summaryTable tbody'); tbody.innerHTML = ''; // Clear existing rows data.forEach(item => { const row = document.createElement('tr'); row.innerHTML = ` <td>${item.entry_type}</td> <td>${item.count}</td> `; tbody.appendChild(row); }); } catch (error) { console.error('Error:', error); alert('Failed to load summary. Please try again.'); } } // Load summary when page loads loadSummary(); // Refresh summary every 30 seconds setInterval(loadSummary, 30000); </script> </body> </html> 